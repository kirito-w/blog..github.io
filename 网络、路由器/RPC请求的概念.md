# RPC
## 概念：
- RPC（Remote Procedure Call）翻译成中文就是`远程过程调用`。RPC框架起到的作用就是为了实现，`调用远程方法时，能够做到和调用本地方法一样`，让开发人员更专注于业务开发，不用去考虑网络编程等细节。
- 通俗点讲就是：客户端在不知道调用细节的情况下，调用存在于远程计算机上的某个对象，`就像调用本地应用程序中的对象一样`。
- 官方的描述是：一种通过网络从远程计算机程序上请求服务，而`不需要了解底层网络技术`的协议。

- RPC协议有`跨语言能力`:
    - 因为调用方实际上也不清楚远程服务器的应用程序是使用什么语言运行的。那么`对于调用方来说，无论服务器方使用的是什么语言，本次调用都应该成功，并且返回值也应该按照调用方程序语言所能理解的形式进行描述`。

## 常见问题：
### 一个RPC请求是一个TCP的长连接还是短连接？
- TCP连接的RPC请求`一般都是使用的TCP的长连接`，而`长连接比短连接更节省资源，效率更高`
### TCP的长连接和短连接的区别?
- TCP短连接： client向server发起请求，server接收到请求，然后建立连接。client向server发送消息，server回应client，这样一次读写就完成了。`一般是client端发起close操作`。TCP短连接的优点是：`管理起来比较简单，存在的连接都是有用的连接`。
- TCP长连接：client向server发起请求连接，server接收到client的请求，建立连接。client与server完成一次请求后，并不会关闭连接，`后面的读写操作都会继续使用这个连接`。

### HTTP和RPC区别？
- 通信协议不同：HTTP 使用`文本协议`，RPC 使用`二进制协议`。
- 调用方式不同：HTTP 接口通过 URL 进行调用，RPC 接口通过函数调用进行调用。
- 参数传递方式不同：HTTP 接口使用 URL 参数或者请求体进行参数传递，RPC 接口使用函数参数进行传递。
- 接口描述方式不同：HTTP 接口使用 RESTful 架构描述接口，RPC 接口使用接口定义语言（IDL）描述接口。
- 性能表现不同：`RPC 接口通常比 HTTP 接口更快，因为它使用二进制协议进行通信，而且使用了一些性能优化技术，例如连接池、批处理等`。此外，RPC 接口通常`支持异步调用`，可以更好地处理`高并发`场景。

HTTP 接口和 RPC 接口的相同之处在于，它们都是用于接口通信的协议。它们都需要定义接口、参数和返回值等信息，并通过网络进行通信。此外，它们都支持多种数据格式的编解码，可以根据需求进行灵活的选择。

### HTTP 接口和 RPC 接口的应用场景
- HTTP 接口适用于 Web 应用程序和浏览器之间的通信。它通常用于传输 HTML、CSS、JavaScript 和其他 Web 资源，以及 RESTful 风格的 API 服务。
- RPC 接口适用于分布式系统之间的通信。它可以在多种编程语言之间进行通信，支持多种协议和数据格式。RPC 接口通常用于处理高并发、高吞吐量的场景，例如大型的分布式计算、大数据处理等。


## 相关文档：
- https://apifox.com/apiskills/introduction-to-rpc-interfaces/
- https://www.cnblogs.com/jimoer/p/15511954.html