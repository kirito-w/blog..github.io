## 概念
- 免费 ARP（Gratuitous ARP）包是一种`特殊的 ARP 请求`，它并非期待得到 IP 对应的 MAC 地址，而是当主机启动的时候，发送一个 Gratuitous ARP 请求，即`请求自己的 IP 地址的 MAC 地址`。

## 报文结构
- 免费 ARP 报文与普通 ARP 请求报文的区别在于报文中的目标 IP 地址。`普通 ARP 报文中的目标 IP 地址`是`其他主机`的 IP 地址；而`免费 ARP 的请求报文`中，`目标 IP 地址`是`自己的 IP `地址。

## 免费 ARP 的作用
- 免费 ARP 数据包有以下 3 个作用：
    - 该类型报文起到一个`宣告作用`。它以广播的形式将数据包发送出去，`不需要得到回应`，只为了`告诉其他计算机自己的 IP 地址和 MAC 地址`。
    - 可用于`检测 IP 地址冲突`。当一台主机`发送了免费 ARP 请求`报文后，如果`收到了 ARP 响应`报文，则`说明网络内已经存在使用该 IP 地址的主机`。
    - 可用于`更新其他主机的 ARP 缓存表`。如果该`主机更换了网卡`，而其他主机的 ARP 缓存表`仍然保留着原来的 MAC 地址`。这时，可以发送免费的 ARP 数据包。其他主机收到该数据包后，将`更新 ARP 缓存表`，将`原来的 MAC 地址替换为新的 MAC 地址`。

## 什么情况下触发ARP协议发送免费ARP
- 局域网IP地址冲突时，`地址修改或变更时`，`DHCP分发地址`时，ARP缓存表清理时，网关冗余协议HSRP交互时，TFTP协议传输数据前

## 普通ARP和免费ARP的区别：
- 普通ARP请求报文——`查找别人的IP地址` 期待得到 IP 对应的 MAC 地址，希望收到响应
- 免费ARP请求报文——`查找自己的IP地址` 起宣告作用，不希望收到响应

## 相关博客
- https://bbs.huaweicloud.com/blogs/307828
- https://www.cnblogs.com/wzzkaifa/p/6721386.html